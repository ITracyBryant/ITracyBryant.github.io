<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="With the eyes of programmer to more understanding of the world——ITracyBryant's blog"><title>Servlet | Evolving</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="/atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Servlet</h1><a id="logo" href="/.">Evolving</a><p class="description">One man and a Crowd</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Servlet</h1><div class="post-meta">Apr 1, 2018<span> | </span><span class="category"><a href="/categories/note/">note</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><a href="/2018/04/01/Servlet/#vcomment" class="disqus-comment-count"><span data-xid="/2018/04/01/Servlet/" class="valine-comment-count"></span><span>条评论</span></a><div class="post-content"><h2 id="1-JSP的前身就是Servlet"><a href="#1-JSP的前身就是Servlet" class="headerlink" title="1. JSP的前身就是Servlet"></a>1. JSP的前身就是Servlet</h2><ul>
<li>Servlet：是在服务器上运行的小程序，一个Servlet就是一个Java类，并且可以通过“请求-响应”编程模型来访问这个驻留在服务器内存里的Servlet程序。</li>
<li>Tomcat容器等级：Tomcat容器分为四个等级，Servlet的容器管理Context容器，一个Context对应一个web工程<br><strong>Tomcat -&gt; Container容器 -&gt; Engine -&gt; HOST -&gt; Servlet容器 -&gt; Context -&gt; Wrapper</strong></li>
</ul>
<h2 id="2-手动编写第一个Servlet："><a href="#2-手动编写第一个Servlet：" class="headerlink" title="2. 手动编写第一个Servlet："></a>2. 手动编写第一个Servlet：</h2><ul>
<li>继承HttpServlet</li>
<li>重写(覆盖)doGet()或doPost()</li>
<li>在web.xml中注册Servlet</li>
</ul>
<figure class="highlight clean"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Servlet(Interface)(三个方法Init(),service(),destroy()) &lt;- GenericServlet(abstract <span class="keyword">class</span> 与协议无关的Servlet) &lt;- HttpServlet(Abstract <span class="keyword">class</span> 实现了http协议的servlet) &lt;- 自定义Servlet(一般重写doGet与doPost方法)</span><br></pre></td></tr></table></figure>
<ul>
<li>浏览器访问Servlet:ip地址(主机名)+端口号+web工程名(ContextRoot上下文地址)+url-pattern（包名+Servlet名）</li>
<li>浏览器访问JSP：ip地址(主机名)+端口号+web工程名(ContextRoot上下文地址)+相应jsp页面</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Get方式请求HelloServlet:</span><br><span class="line"><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"servlet/HelloServlet"</span>&gt;</span> (超链接)</span><br><span class="line">请求顺序：<span class="tag">&lt;<span class="name">url-pattern</span>&gt;</span> -&gt; <span class="tag">&lt;<span class="name">servlet-class</span>&gt;</span> -&gt; doGet（doPost）</span><br></pre></td></tr></table></figure>
<h2 id="3-Servlet生命周期"><a href="#3-Servlet生命周期" class="headerlink" title="3. Servlet生命周期"></a>3. Servlet生命周期</h2><ul>
<li>初始化阶段，调用init(ServletConfig)方法</li>
<li>响应客户请求阶段，调用service(Servlet Request Servlet Response),由service()根据提交请求方式选择执行doGet()或doPost()</li>
<li>终止阶段，调用destroy()</li>
</ul>
<h2 id="4-Servlet容器加载Servlet"><a href="#4-Servlet容器加载Servlet" class="headerlink" title="4. Servlet容器加载Servlet"></a>4. Servlet容器加载Servlet</h2><ul>
<li>Servlet容器启动时自动装载某些Servlet，实现它只需要在web.xml文件中servlet标签中添加：loadon-startup标签中数字越小表示优先级越高</li>
<li>在Servlet容器启动后，客户首次向Servlet发送请求(tomcat会自动加载Servlet)</li>
<li>Servlet类文件被更新后，tomcat会自动重新装载servlet（servlet是长期驻留在服务器内存的，Servlet实例被加载之后，这个servlet对象就会长期保存在服务器内存中）</li>
<li>Servlet被装载后，servlet容器创建一个Servlet实例并且调用Servlet的init()方法进行初始化，在Servlet整个生命周期中，init()只被调用一次</li>
</ul>
<h2 id="5-Servlet获取JSP九大内置对象"><a href="#5-Servlet获取JSP九大内置对象" class="headerlink" title="5. Servlet获取JSP九大内置对象"></a>5. Servlet获取JSP九大内置对象</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">out(JspWriter类型) <span class="tag">&lt;<span class="name">------</span>&gt;</span> response.getWriter()（PrintWriter类型）</span><br><span class="line">request <span class="tag">&lt;<span class="name">-----</span>&gt;</span> service() (doGet()或doPost())中的request参数</span><br><span class="line">response <span class="tag">&lt;<span class="name">-----</span>&gt;</span> service() (doGet()或doPost())中的response参数</span><br><span class="line">session <span class="tag">&lt;<span class="name">-----</span>&gt;</span> request.getSession()</span><br><span class="line">application <span class="tag">&lt;<span class="name">-----</span>&gt;</span> getServletContext()</span><br><span class="line">exception <span class="tag">&lt;<span class="name">-----</span>&gt;</span> Throwable</span><br><span class="line">page <span class="tag">&lt;<span class="name">-----</span>&gt;</span> this</span><br><span class="line">pageContext <span class="tag">&lt;<span class="name">-----</span>&gt;</span> PageContext</span><br><span class="line">config <span class="tag">&lt;<span class="name">-----</span>&gt;</span> getServletConfig()</span><br></pre></td></tr></table></figure>
<p><strong>Servlet路径跳转：绝对路径(path=request.getContextPath()获取上下文对象路径)，相对路径(超链接跳转)</strong></p>
<h2 id="6-Servlet高级"><a href="#6-Servlet高级" class="headerlink" title="6. Servlet高级"></a>6. Servlet高级</h2><ul>
<li>获取初始化参数：在web.xml中配置Servlet时，可以配置一些初始化参数，而在Servlet中可以通过ServletConfig接口提供的方法来取得这些参数</li>
<li>通过Servlet实现MVC模式：MVC旨在分离模型，控制，视图，一种分层思想体现。 Browser &lt;-&gt; Servlet Container（Servlet(Controller) -&gt; JSP(View) &lt;-&gt; JavaBean(Model)） &lt;-&gt; EIS(企业信息系统(数据库))</li>
<li>Model2：本质是MVC思想体现。 JSP(V) &lt;–(response)–(request)–&gt; Servlet(C) &lt;–(实例化调用)–&gt; JavaBean(M) –(读取)-&gt; DB</li>
</ul>
<p><em>使用Servlet来实现购物车功能</em></p>
<h2 id="7-hashmap实现原理"><a href="#7-hashmap实现原理" class="headerlink" title="7. hashmap实现原理"></a>7. hashmap实现原理</h2><ul>
<li><strong>put()方法实现：</strong>首先hash(key)得到key的hashcode(),hashmap根据获得的hashcode找到要插入的位置所在的链，在这个链里面放的都是hashcode相同的Entry键值对，在找到这个链后，会通过equals方法判断是否已经存在要插入的键值对，这个equals方法比较的就是key。故首先重写hashcode()找到相同的链，再重写equals()来保证key的相同。</li>
</ul>
</div><iframe src="/donate/?AliPayQR=/img/AliPayQR.png&amp;WeChatQR=/img/WeChatQR.png&amp;GitHub=null&amp;BTCQR=null&amp;BTCKEY=null&amp;PayPal=null" style="overflow-x:hidden;overflow-y:hidden; border:0xp none #fff; min-height:240px; width:100%;" frameborder="0" scrolling="no"></iframe><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="https://itracybryant.github.io/2018/04/01/Servlet/" data-id="cjwoyb26x000tlw5d8l0z1m1p" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACJElEQVR42u3aQXLDIAwF0Nz/0uk2M63tL4HTAT9WndQGnheMkPR6xeP9MX7/cvT7qzhG3sXAwNib8T4d55v+/O/IKvm6h1QMDIwHMI4WPnqm99b58/kMGBgYGOfT9Z5Ptnt04GJgYGDcfeBWQ0wMDAyMkUtsNF0xlfYPd3EMDIwFGfkmvv/3LfUNDAyMpRh3J+tnPXkxDwYGxtaMkQJk72hOQs/qfjAwMPZm5Mn6vPSYXIBHSgjNKigGBsayjFkBXFIGSKhDYAwMjE0Zs9omqkFhUjBIChIYGBhPYCQT5W0QvVRd72NhYGA8jdHbVr5wL/jLD2UMDIy9GdV0fzWhNl7ajJrSMDAwtmYkwV++9Tzplif9y0c8BgbGdoxqoDbSljFrrahbBAMDYyPGHU0VPcbkZgsMDIyNGL1wLR/VQmY1MVeoxGJgYCzOSA7NfFQrEtX2iz/ewsDAeAxj1sLJtqqf72ItDAyMrRnVm2Dv4lqdoVpAxcDAeAKjGpxV02HV9FwzDYeBgfEwRi/11rvKHhUPkmO63LWBgYGxOCMvMc7aYrX8cHE0Y2BgbMoYSfpXQ8CR7V7Mg4GBsTVj/LDrNUlUWzRmHdkYGBjrMmYdsnmBs5eem/alMTAwlmXccQXNC5bVpB4GBgZGNUSrFj6rxzQGBgbGCKOXMhu/1h5eYjEwMLZm5Km0aqjXKyokc2JgYDyH0bs6VpvJqum8kY+CgYGxEeMHodjbGWpmoy4AAAAASUVORK5CYII=" class="article-share-link">分享</a><div class="tags"><a href="/tags/Java/">Java</a></div><div class="post-nav"><a href="/2018/04/01/Annotation/" class="pre">Annotation</a><a href="/2018/03/30/JavaBean/" class="next">JavaBean</a></div><div id="vcomment"></div><script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script><script src="//unpkg.com/valine@latest/dist/Valine.min.js"></script><script>var notify = 'false' == true ? true : false;
var verify = 'false' == true ? true : false;
var GUEST_INFO = ['nick','mail','link'];
var guest_info = 'nick,mail,link'.split(',').filter(function(item){
  return GUEST_INFO.indexOf(item) > -1
});
guest_info = guest_info.length == 0 ? GUEST_INFO :guest_info;
window.valine = new Valine({
  el:'#vcomment',
  notify:notify, 
  verify:verify, 
  appId:'0r4cmQDsV2gfNxaiv2U9rm1W-gzGzoHsz',
  appKey:'ysRkNuVQJk1H1pof4MkmBrvq',
  placeholder:'よろしくお願いします',
  avatar:'mm',
  guest_info:guest_info,
  pageSize:'10'
})</script></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://itracybryant.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/note/">note</a><span class="category-list-count">20</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/Front-End/" style="font-size: 15px;">Front-End</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2019/06/09/消息队列/">消息队列</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/08/前后端分离，Restful-API最佳实践/">前后端分离，Restful API最佳实践</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/07/Cookie和Session/">Cookie & Session</a></li><li class="post-list-item"><a class="post-list-link" href="/2019/06/06/微服务/">微服务</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/07/22/设计模式/">设计模式</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/05/04/Hibernate/">Hibernate</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/29/JVM/">JVM</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/02/Maven/">Maven</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/02/Listener-Filter/">Listener & Filter</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/01/Reflect/">Reflect</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://www.haomwei.com/" title="屠城" target="_blank">屠城</a><ul></ul><a href="https://luuman.github.io/Home/H1/index.html" title="世平阜康" target="_blank">世平阜康</a><ul></ul><a href="https://diygod.me/" title="DIYgod" target="_blank">DIYgod</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="/." rel="nofollow">Evolving.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css"><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>