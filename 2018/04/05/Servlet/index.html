<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="With the eyes of programmer to more understanding of the world"><title>Servlet | Evolving</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">Servlet</h1><a id="logo" href="/.">Evolving</a><p class="description">One man and a Crowd</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/404/index.html"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">Servlet</h1><div class="post-meta">Apr 5, 2018<span> | </span><span class="category"><a href="/categories/note/">note</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="post-content"><p><strong>JSP的前身就是Servlet</strong><br>Servlet：是在服务器上运行的小程序，一个Servlet就是一个Java类，并且可以通过“请求-响应”编程模型来访问这个驻留在服务器内存里的Servlet程序。<br>Tomcat容器等级：Tomcat容器分为四个等级，Servlet的容器管理Context容器，一个Context对应一个web工程<br><strong>Tomcat-&gt;Container容器-&gt;Engine-&gt;HOST-&gt;Servlet容器-&gt;Context-&gt;Wrapper</strong></p>
<p>手动编写第一个Servlet：<br>1.继承HttpServlet<br>2.重写(覆盖)doGet()或doPost()<br>3.在web.xml中注册Servlet</p>
<p>Servlet(Interface)（三个方法Init(),service(),destroy()）&lt;- GenericServlet(abstract class 与协议无关的Servlet) &lt;- HttpServlet(Abstract class 实现了http协议的servlet) &lt;- 自定义Servlet(一般重写doGet与doPost方法)</p>
<p>浏览器访问Servlet:ip地址(主机名)+端口号+web工程名(ContextRoot上下文地址)+url-pattern（包名+Servlet名）<br>浏览器访问JSP：ip地址(主机名)+端口号+web工程名(ContextRoot上下文地址)+相应jsp页面</p>
<figure class="highlight xl"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Get方式请求HelloServlet:</span><br><span class="line">&lt;a href=<span class="string">"servlet/HelloServlet"</span>&gt; (超链接)</span><br><span class="line">请求顺序：&lt;<span class="function"><span class="title">url</span>-pattern&gt; -&gt;</span> &lt;<span class="function"><span class="title">servlet</span>-class&gt; -&gt;</span> doGet（doPost）</span><br></pre></td></tr></table></figure>
<p><strong>(在web服务器)Servlet生命周期：</strong><br>1.初始化阶段，调用init(ServletConfig)方法；<br>2.响应客户请求阶段，调用service(Servlet Request Servlet Response),由service()根据提交请求方式选择执行doGet()或doPost()；<br>3.终止阶段，调用destroy()</p>
<p><strong>在下列时刻Servlet容器装载Servlet:</strong><br>Servlet容器启动时自动装载某些Servlet，实现它只需要在web.xml文件中servlet标签中添加：loadon-startup标签中数字越小表示优先级越高<br>在Servlet容器启动后，客户首次向Servlet发送请求(tomcat会自动加载Servlet)<br>Servlet类文件被更新后，tomcat会自动重新装载servlet（servlet是长期驻留在服务器内存的，Servlet实例被加载之后，这个servlet对象就会长期保存在服务器内存中）</p>
<p>Servlet被装载后，servlet容器创建一个Servlet实例并且调用Servlet的init()方法进行初始化，在Servlet整个生命周期中，init()只被调用一次</p>
<p><strong>Servlet获取JSP九大内置对象：</strong><br>out(JspWriter类型) &lt;——&gt; response.getWriter()（PrintWriter类型）<br>request &lt;—–&gt; service() (doGet()或doPost())中的request参数<br>response &lt;—–&gt; service() (doGet()或doPost())中的response参数<br>session &lt;—–&gt; request.getSession()<br>application &lt;—–&gt; getServletContext()<br>exception &lt;—–&gt; Throwable<br>page &lt;—–&gt; this<br>pageContext &lt;—–&gt; PageContext<br>config &lt;—–&gt; getServletConfig()</p>
<p>Servlet路径跳转：绝对路径(path=request.getContextPath()获取上下文对象路径)，相对路径(超链接跳转)</p>
<p><strong>Servlet高级</strong><br>1.获取初始化参数：在web.xml中配置Servlet时，可以配置一些初始化参数。而在Servlet中可以通过ServletConfig接口提供的方法来取得这些参数<br>2.通过Servlet实现MVC模式：MVC旨在分离模型，控制，视图，一种分层思想体现。 Browser &lt;-&gt; Servlet Container（Servlet(Controller) -&gt; JSP(View) &lt;-&gt; JavaBean(Model)） &lt;-&gt; EIS(企业信息系统(数据库))<br>3.Model2：本质是MVC思想体现。 JSP(V) &lt;–(response)–(request)–&gt; Servlet(C) &lt;–(实例化调用)–&gt; JavaBean(M) –(读取)-&gt; DB<br>（使用Servlet来实现购物车功能）</p>
<p><strong>hashmap实现原理：</strong><br>put()方法实现：首先hash(key)得到key的hashcode(),hashmap根据获得的hashcode找到要插入的位置所在的链，在这个链里面放的都是hashcode相同的Entry键值对，在找到这个链后，会通过equals方法判断是否已经存在要插入的键值对，这个equals方法比较的就是key。故首先重写hashcode()找到相同的链，再重写equals()来保证key的相同。</p>
</div><iframe src="/donate/?AliPayQR=/img/AliPayQR.png&amp;WeChatQR=/img/WeChatQR.png&amp;GitHub=null&amp;BTCQR=null&amp;BTCKEY=null&amp;PayPal=null" style="overflow-x:hidden;overflow-y:hidden; border:0xp none #fff; min-height:240px; width:100%;" frameborder="0" scrolling="no"></iframe><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="https://itracybryant.github.io/2018/04/05/Servlet/" data-id="cjgki6q6j000kb05dgnq4ravf" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACJElEQVR42u3aSW7DMBAEQP//084DEindHNuAydIpQGSJpcNgtscjvp7B9fvOR3lNfouBgbE3oz3c1X/nHyJ/7x9vxMDAOIBx9eKre9Z+dX9//gQMDAyM9kD3IfgqRN4HVgwMDIxPBtzkuMnnwMDAwJiUqW0Rm7z9jbU4BgbGFzLyrvvn/37LfAMDA+OrGPNmfdI4S8Llc3BhYGDszZgMINu2fp56LiaaGBgYmzLakrINrxNqUSRjYGAcw0jaWO2oMh8M5GPOfwIuBgbGpoy86Z8Uomu/KkaVGBgYhzHax02aZXn6ODkJBgbGCYw8HZynlXmjrViwwMDA2I6xtm6VN+PWAnT7iTEwMPZmrG1bJQG0TfXWRqcYGBgnMObDxXesZdRpIgYGxgGMdkmrTfvyg46WLTAwMA5grKVreQuvHX8W92BgYGzNSErKZ3zlzbi1sFuHYAwMjO0YySjxM0PQtdQTAwPjBEaeCK4F3/xpr9qmwMDA2InRjiEnC2HzIHt5cgwMjGMYdVN+sGaRDE3vn1zkthgYGFsw2kb8/IhtlvpPaMbAwNiU8SyvtQHn/LjRMAADA2NTxjzYJa9pj7KWLGJgYOzNaI/YYtrpxAuGlBgYGJsyJiXo2ghzLe2LFsIwMDAw4tFj27yrx5YYGBgYQTGZp4OTZly0RoaBgXEAIylNk+K2/QT5iPRl7TYMDIwvZKyVjvcPaptuyarH2pgBAwPjyxk/hZgi4MTJ4WoAAAAASUVORK5CYII=" class="article-share-link">分享</a><div class="tags"><a href="/tags/Java/">Java</a></div><div class="post-nav"><a href="/2018/04/29/JVM/" class="pre">JVM</a><a href="/2018/04/02/Maven/" class="next">Maven</a></div><div id="container"></div><link rel="stylesheet" href="/css/default.css?v=0.0.0"><script src="/js/gitment.browser.js?v=0.0.0"></script><script>var gitment = new Gitment({
  owner: 'ITracyBryant',
  repo: 'ITracyBryant.github.io',
  oauth: {
    client_id: '8f465bc958a31e8179d0',
    client_secret: '384fe60569afcf80fcb31ed7e786b94ca31074ec',
  },
})
gitment.render('container')
</script></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://itracybryant.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/note/">note</a><span class="category-list-count">15</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/04/29/JVM/">JVM</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/05/Servlet/">Servlet</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/02/Maven/">Maven</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/02/Listener-Filter/">Listener&Filter</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/01/Reflect/">Reflect</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/04/01/Annotation/">Annotation</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/30/JavaBean/">JavaBean</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/30/JSP指令与动作-JSP中Cookie的使用/">JSP指令与动作&JSP中Cookie的使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/29/JSP基础知识/">JSP基础知识</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/17/百度地图API移动覆盖物效果/">百度地图API移动覆盖物效果</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://www.haomwei.com/" title="屠城" target="_blank">屠城</a><ul></ul><a href="https://luuman.github.io/Home/H1/index.html" title="世平阜康" target="_blank">世平阜康</a><ul></ul><a href="https://diygod.me/" title="DIYgod" target="_blank">DIYgod</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">Evolving.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css"><script type="text/javascript" color="100,99,98" opacity="0.7" zIndex="-1" count="150" src="//cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>