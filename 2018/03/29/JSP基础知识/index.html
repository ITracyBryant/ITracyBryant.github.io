<!DOCTYPE html><html lang="zh-CN"><head><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="With the eyes of programmer to more understanding of the world"><title>JSP基础知识 | Evolving</title><link rel="stylesheet" type="text/css" href="/css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/normalize/7.0.0/normalize.min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//cdn.bootcss.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script><link rel="Shortcut Icon" type="image/x-icon" href="/favicon.ico"><link rel="apple-touch-icon" href="/apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="/apple-touch-icon.png"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">JSP基础知识</h1><a id="logo" href="/.">Evolving</a><p class="description">One man and a Crowd</p></div><div id="nav-menu"><a href="/." class="current"><i class="fa fa-home"> 首页</i></a><a href="/archives/"><i class="fa fa-archive"> 归档</i></a><a href="/about/"><i class="fa fa-user"> 关于</i></a><a href="/404/index.html"><i class="fa fa-rss"> 订阅</i></a></div></div><div id="layout" class="pure-g"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">JSP基础知识</h1><div class="post-meta">Mar 29, 2018<span> | </span><span class="category"><a href="/categories/note/">note</a></span><script src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span></div><div class="post-content"><a id="more"></a>
<p>常见动态网站开发技术对比：<br>    jsp:Java平台，安全性高，适合开发大型，企业级web应用程序<br>    Asp.net：.Net平台，简单易学，安全性和跨平台性较差<br>    php：简单高效，成本低开发周期短，特别适合中小型企业的Web应用开发(LAMP:Linux+Apache+mySql+php)</p>
<p>WEB-INF目录结构：<br>1.WEB-INF是JAVA的web应用的安全目录，即安全就是客户端无法访问，只有服务端可以访问的目录。<br>2.web.xml是项目部署文件<br>3.classes文件夹，用以放置*.class文件<br>4.lib文件夹，用于存放需要的jar包<br>WEB-INF中配置web.xml文件，默认首页设置welcome-file属性</p>
<p>web项目虚拟路径加载   修改Tomcat服务器默认端口：修改conf/server.xml文件<br><!--<Connector connectionTimeout="20000" port="8080" protocol="HTTP/1.1" redirectPort="8443"/>--></p>
<p>JSP(Java Server Pages),根本上是一个简化的Servlet设计，实现了在Java中使用HTML标签。<br>JSP是一种动态网页技术标准也是JAVAEE标准，JSP与Servlet一样是在服务器端执行的。</p>
<p>JSP页面元素构成：指令，表达式，小脚本，声明，注释，静态内容<br>1.(三大)指令<br>    (1)page指令：通常位于jsp页面顶端，同一个页面可以有多个page指令<br>    (2)include指令：将一个外部文件嵌入到当前jsp文件中，同时解析这个页面中的jsp语句<br>    (3)taglib指令：使用标签库定义新的自定义标签，在jsp页面中启用定制行为<br>2.jsp注释：&lt;%– html注释–%&gt; 客户端不可见<br>3.jsp脚本：&lt;%Java代码%&gt;<br>4.jsp声明：&lt;%!Java代码%&gt;<br>5.jsp表达式：&lt;%=表达式%&gt;</p>
<p>JSP页面生命周期：<br>1.用户发出请求index.jsp，是第一次请求，则jsp引擎把该jsp文件转换成为一个Servlet，生成字节码文件，并执行jspInit()，然后生成的字节码文件解析执行，                jspService()；否则，直接将之前生成的字节码文件解析执行，jspService()。<br>2.jspService()方法被调用来处理客户端的请求。对每一个请求，jsp引擎创建一个新的线程来处理该请求；如果有多个客户端同时请求该jsp文件，则jsp引擎会创建多个线程，<br>  每个客户端请求对应一个线程。以多线程方式执行可以大大降低对系统的资源需求，提高系统的并发量及响应时间，但也要注意多线程编程带来的同步问题。由于该Servlet<br>  始终驻于内存，所以响应是非常快的。<br>3.当用户第一次请求一个jsp页面时，首先被执行的方法是构造方法；jsp引擎把jsp文件转换成为一个Servlet(类)，生成class文件后，会创建一个Servlet的实例，然后调用        Servlet的构造方法，再调用jspInit()。<br>  (1)jsp引擎先把该jsp文件转换成一个Java源文件(Servlet)，在转换时如果发现jsp文件有任何语法错误，转换过程将中断，并向服务端和客户端输出错误信息<br>  (2)如果转换成功，jsp引擎用javac将该Java源文件编译成相应class文件<br>  (3)创建一个该Servlet(JSP页面的转换结果)的实例，该Servlet的jspInit()被执行，jspInit()在Servlet生命周期中只被执行一次。<br>  (4)然后将编译生成的class文件解析执行，调用jspService()；最后调用jspDestroy()销毁。(完整的一个生命周期)</p>
<p>JSP内置对象：<br>  内置对象简介：jsp内置对象是web容器创建的一组对象，不使用new关键字就可以使用的内置对象。<br>  (九大)常用的(五个)jsp内置对象：out，request，response，session，application(前五个常用)，page，pageContext，exception，config。<br>  web应用程序的请求响应模式：用户发送请求(request),服务器返回响应(response)。<br>  缓冲区：Buffer，就是内存的一块区域用来保存临时数据。IO操作中，可以通过缓冲区(提高传输效率)，使多个字节在不同缓冲区传递。<br>1.out对象：是JspWriter类的实例，是向客户端输出内容常用的对象。<br>  常用API：<br>        void printIn()向客户端打印字符串(打印HTML标签)<br>        void clear()清除缓冲区内容，如果在flush()之后调用会抛出异常<br>        void clearBuffer() 清除缓冲区内容，如果在flush()之后调用不会抛出异常<br>        void flush()将缓冲区内容输出到客户端<br>        int getBufferSize()返回缓冲区以字节数的大小，如不设缓冲区则为0<br>        int getRemaining()返回缓冲区还剩余多少可用<br>        boolean isAutoFlush()返回缓冲区满时，是自动清空还是抛出异常<br>        void close()关闭输出流<br>  <strong>(表单常用提交方式)get和post区别：</strong><br>  <strong>get：以明文的方式通过URL提交数据，数据在URL中可以看到。提交的数据最多不超过2KB。安全性较低但效率比post方式高。适合提交数据量不大，安全性要求不高的数据。eg：       搜索，查询等功能
  </strong>post：将用户提交的信息封装在HTML HEADER内。适合提交数据量大，安全性要求高的用户信息。eg：注册，修改，上传等功能<br>2.request对象：客户端的请求信息被封装在request对象中，通过它才能了解到客户的需求，然后做出响应。它是HttpServletRequest类的实例。request对象具有请求域，即完成   客户端的请求之前，该对象一直有效。<br>  常用API：<br>        String getParameter(String name)返回name指定参数的参数值<br>        String[] getParameterValues(String name)返回包含参数name的所有值的数组<br>        void setAttribute(String, Object)存储此请求中的属性<br>        object getAttribute(String name) 返回指定属性的属性值<br>        String getContentType()得到请求体的MIME类型<br>        String getProtocol()返回请求用的协议类型及版本号<br>        String getServerName() 返回接受请求的服务器主机名<br>        int getServerPort()返回服务器接受此请求所用的端口号<br>        String getCharacterEncoding() 返回字符编码方式<br>        void setCharacterEncoding()设置请求的字符编码方式<br>        int getContentLength()返回请求体的长度(以字节数)<br>        String getRemoteAddr() 返回发送此请求的客户端IP地址<br>        String getRealPath(String path)返回一虚拟路径的真实路径<br>        String request.getContextPath()返回上下文路径<br>3.response对象：包含了响应客户请求的有关信息，但在jsp中很少直接使用到它。它是HttpServletResponse类的实例。response对象具有页面作用域，即访问一个页面时，该页    面内的response对象只能对这次访问有效，其他页面的response对象对当前页面无效。<br>  常用API：<br>        String getCharacterEncoding()返回响应用的是何种字符编码<br>        void setContentType(String type)返回响应的MIME类型<br>        PrintWriter getWriter()返回可以向客户端输出字符的一个输出流对象(注意比较PrintWriter对象与内置out对象的区别)<br>        sendRedirect(java.lang.String location)重新定向客户端的请求<br>  <strong>请求转发与请求重定向：</strong><br>  <strong>请求重定向：客户端行为，response.sendRedirect()，从本质上讲等同于两次请求，前一次的请求对象不会保存，地址栏的URL地址会改变
  </strong>请求转发：服务器行为，request.getRequestDispatcher().forward(request,response);是一次请求，转发后请求对象会保存，地址栏的URL地址不会改变<br>4.session对象：session表示客户端与服务器的一次会话；Web中的session指的是用户在浏览某个网站时，从进入(打开)网站到浏览器关闭所经过的这段时间，也就是用户浏览该网   站花费的时间；故session实际上是一个特定的时间域概念;session保存在服务器的内存中，和用户一一对应,通过session对象，可以查看浏览器，服务器会话的属性，内容。<br>  (1)session对象是jsp内置对象<br>  (2)session对象在第一个JSP页面被装载时自动创建，完成会话期管理<br>  (3)从一个客户打开浏览器并连接到服务器开始，到客户关闭浏览器离开这个服务器结束，被称为一个会话<br>  (4)当一个客户访问一个服务器时，可能会在服务器的几个页面之间切换，服务器应当通过某种办法知道这是一个客户，这时就需要session对象(保存用户状态的一种机制)<br>  (5)session对象是HttpSession类的实例<br>  常用API：<br>        long getCreationTime()返回session创建时间<br>        public String getId()返回session创建时JSP引擎为它设的唯一ID号<br>        public Object setAttribute(String name, Object value) 使用指定名称将对象绑定到此会话<br>        public Object getAttribute(String name)返回与此会话中的指定名称绑定在一起的对象，如果没有对象绑定在该名称下，则返回null<br>        String[] getValueNames()返回一个包含此session中所有可用属性的数组<br>        int getMaxInactiveInterval()返回两次请求间隔多长时间此session被取消(单位秒)<br>  session销毁发生在以下情况：<br>  (1)session的持有者(即客户端浏览器)超出最大无活动等待时间(MaxInactiveInterval)，在该时间内无任何响应或请求<br>  (2)session被调用invalidate()方法强制终止<br>  (3)jsp服务器重启或发生中断<br><strong>用户关闭浏览器后标志着：</strong><br>  session将不再发送请求到服务器；该session将不会再被调用它的invalidate()，故此时只能等待session自己超时死亡；如果设置了该session的MaxInactiveInterval为-1，则这个session只能在第3中情况下死亡<br>  session的生命周期：<br>    创建：当客户端第一次访问某个jsp或servlet时，服务器会为当前会话创建一个SessionId，每次客户端向服务端发送请求时，都会将此SessionId携带过去，服务端会对此          SessionId进行校验<br>    活动：<br>    (1)某次会话当中通过超链接打开的新页面属于同一次会话<br>    (2)只要当前会话页面没有全部关闭，重新打开新的浏览器窗口访问同一项目资源时属于同一此会话<br>    (3)除非本次会话的所有页面都关闭后再重新访问某个jsp或servlet将会创建新的会话(注意原有会话还存在，只是这个旧的SessionId仍然存在于服务端，只不过再也没有客户     端会携带它然后交给服务端校验)<br>    销毁：session的销毁只有三种方式：(1)调用了session.invalidate()；(2)session过期(超时)；(3)服务器重启<br>  <strong>Tomcat默认session超时时间为30分钟；设置超时方式有两种：</strong><br>    (1)session.setMaxInactiveInterval(10) (单位秒)；<br>    (2)在web.xml配置：设置session-config属性中的session-timeout属性值 (单位分钟)<br>5.application对象:<br>  (1)application对象实现了用户间数据的共享，可存放全局变量<br>  (2)application开始于服务器的启动，终止于服务器的关闭<br>  (3)在用户的前后连接或不同用户之间的连接中，可以对application对象的同一属性进行操作<br>  (4)在任何地方对application对象属性的操作，都将影响到其他用户对此的访问<br>  (5)服务器的启动和关闭决定了application对象的生命<br>  (6)application对象是ServletContext类的实例<br>  常用API：<br>        public Object setAttribute(String name, Object value) 使用指定名称将对象绑定到此会话<br>        public Object getAttribute(String name)返回与此会话中的指定名称绑定在一起的对象，如果没有对象绑定在该名称下，则返回null<br>        Enumeration getAttributeNames()返回所有可用属性名的枚举<br>        String getServerInfo()返回JSP(Servlet)引擎名及版本号<br>6.page对象：page对象就是指向当前JSP页面本身，有点像类中的this指针，是java.lang.Object类的实例。<br>  常用API：<br>        class getClass()返回此Object的类<br>        int hashCode()返回此Object的hash码<br>        boolean equals(Object obj)判断此Object是否与指定的Object对象相等<br>        void copy(Object obj)把此Object拷贝到指定的Object对象中<br>        Object clone()克隆此Object对象<br>        String toString()把此Object对象转换成String类的对象<br>        void notify()唤醒一个等待的线程<br>        void notifyAll()唤醒所有等待的线程<br>        void wait(int timeout)使一个线程处于等待直到timeout结束或被唤醒<br>        void wait()使一个线程处于等待直到被唤醒<br>7.pageContext对象：<br>  (1)pageContext对象提供了对JSP页面内所有的对象及名字空间的访问<br>  (2)pageContext对象可以访问到本页所在的session，也可以取本页面所在的application的某一属性值<br>  (3)pageContext对象相当于页面中所有功能的集大成者<br>  (4)pageContext对象的本类名也叫pageContext<br>  常用API：<br>        JspWriter getOut() 返回当前客户端响应被使用的JspWriter流(out)<br>        HttpSession getSession()返回当前页中的HttpSession对象(session)<br>        Object getPage()返回当前页的Object对象(page)<br>        ServletRequest getRequest()返回当前页的ServletRequest对象(request)<br>        ServletResponse getResponse()返回当前页的ServletResponse对象(response)<br>        void setAttribute(String name, Object attribute)设置属性及属性值<br>        Object getAttribute(String name, int scope)在指定范围内取属性的值<br>        int getAttributeScope(String name)返回某属性的作用范围<br>        void forward(String relativeUrlPath)使当前页面重导到另一页面<br>        void include(String relativeUrlPath)在当前位置包含另一文件<br>8.Config对象：config对象是在一个Servlet初始化时，JSP引擎向他传递信息用的，此信息包括Servlet初始化时所要用到的参数(通过属性名和属性值构成)以及服务器的有关信息    (通过传递一个ServletContext对象)<br>  常用API：<br>        ServletContext getServletContext()返回含有服务器相关信息的ServletContext对象<br>        String getInitParameter(String name)返回初始化参数的值<br>        Enumeration getInitParameterNames()返回Servlet初始化所需所有参数的枚举<br>9.Exception对象：exception对象就是一个异常对象，当一个页面在运行过程中发生了异常，就产生这个对象。如果一个JSP页面要应用此对象，就必须把isErrorPage设为true，    否则无法编译。它实际上是java.lang.Throwable的对象<br>  常用API：<br>        String getMessage()返回描述异常的消息<br>        String toString()返回关于异常的简短描述消息<br>        void printStackTrace()显示异常及其栈轨迹<br>        Throwable FillInStackTrace()重写异常的执行栈轨迹</p>
<p>四种作用域范围：<br>    PageContext.APPLICATION_SCOPE<br>    PageContext.SESSION_SCOPE<br>    PageContext.REQUEST_SCOPE<br>    PageContext.PAGE_SCOPE</p>
</div><iframe src="/donate/?AliPayQR=/img/AliPayQR.png&amp;WeChatQR=/img/WeChatQR.png&amp;GitHub=null&amp;BTCQR=null&amp;BTCKEY=null&amp;PayPal=null" style="overflow-x:hidden;overflow-y:hidden; border:0xp none #fff; min-height:240px; width:100%;" frameborder="0" scrolling="no"></iframe><script type="text/javascript" src="/js/share.js?v=0.0.0" async></script><a data-url="https://itracybryant.github.io/2018/03/29/JSP基础知识/" data-id="cjfdjlhst0009rc5d9f83uyek" data-qrcode="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMYAAADGCAAAAACs8KCBAAACLElEQVR42u3a24rCMBSF4b7/S3dgroTauA7joDt/roRizRdhk304Dnmdv+vx83Vdnx7mar4LAwaM2Yxzua4MHXn3dL1p5cie7AcGDBgbMNzNKQexfqcScI33wIABA4YQUvUArQRWGDBgwGgCrr5F9yK4Pj4YMGDA6ItoWYKqB/c/y8VhwIDxhYysMfA/n9/e34ABA8bHM05zZd91L472rmDAgDGaoaSR6627jYF+dOP2zTBgwBjNaO5XWXG/Gb94yzURBgwYH8xoUsesPJeNmq2vlTBgwJjN6Ecfsq3ox2EX5mDAgDGO4SaiWektS4CNRBoGDBijGesw6m7LLZkpwVpJm2HAgDGboV8B++uj2xA1fhcGDBgbMLKtu6Nj7pHpwxkwYMCYzdCL9dkYhNswqJqdMGDA2JLRjE3orQK3tXAb9GHAgLEBI2tYumU1vYjm/hYMGDCmMrJ0VB/V6ktyUjIMAwaM0Yz+uqYEU/epe3wwYMDYjeGWzJqroZSayk1QGDBgTGVk6aubcOohO2x5woABYwOGHuD05YZm/XBhwICxG6NvAGTDGS82JAyHSf8JDBgwRjCaMNqPlGXH9OQ9MGDAGM1wg51eps9Caj+mBgMGjKkMN8jqF0R3nCJ7MwwYMPZh6AE0azQ2IVhKtmHAgAEjGgXTw2gW7sOACwMGjM0YVdNRzqelg4MBA8YGDHdsIkti3WEL4ykMGDBGM5paVpPuNgcUYmDAgPF9jB/O9PAuV0cElQAAAABJRU5ErkJggg==" class="article-share-link">分享</a><div class="tags"><a href="/tags/Java/">Java</a></div><div class="post-nav"><a href="/2018/03/30/JSP指令与动作-JSP中Cookie的使用/" class="pre">JSP指令与动作&amp;JSP中Cookie的使用</a><a href="/2018/03/17/百度地图API移动覆盖物效果/" class="next">百度地图API移动覆盖物效果</a></div><div id="container"></div><link rel="stylesheet" href="/css/default.css?v=0.0.0"><script src="/js/gitment.browser.js?v=0.0.0"></script><script>var gitment = new Gitment({
  owner: 'ITracyBryant',
  repo: 'ITracyBryant.github.io',
  oauth: {
    client_id: '8f465bc958a31e8179d0',
    client_secret: '384fe60569afcf80fcb31ed7e786b94ca31074ec',
  },
})
gitment.render('container')
</script></div></div></div><div class="pure-u-1 pure-u-md-1-4"><div id="sidebar"><div class="widget"><form action="//www.google.com/search" method="get" accept-charset="utf-8" target="_blank" class="search-form"><input type="text" name="q" maxlength="20" placeholder="Search"/><input type="hidden" name="sitesearch" value="https://itracybryant.github.io"/></form></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/note/">note</a><span class="category-list-count">9</span></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="/tags/Java/" style="font-size: 15px;">Java</a> <a href="/tags/JavaScript/" style="font-size: 15px;">JavaScript</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2018/03/30/JavaBean/">JavaBean</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/30/JSP指令与动作-JSP中Cookie的使用/">JSP指令与动作&JSP中Cookie的使用</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/29/JSP基础知识/">JSP基础知识</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/17/百度地图API移动覆盖物效果/">百度地图API移动覆盖物效果</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/08/JDBC/">JDBC</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/04/JavaIO处理/">JavaIO处理</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/03/Java中解析XML文件/">Java中解析XML文件</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/02/JavaSocket通信实现/">JavaSocket通信实现</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/11/25/spynner/">python2.7中用spynner包动态抓取网页数据</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="https://www.haomwei.com/" title="屠城" target="_blank">屠城</a><ul></ul><a href="https://luuman.github.io/Home/H1/index.html" title="世平阜康" target="_blank">世平阜康</a><ul></ul><a href="https://diygod.me/" title="DIYgod" target="_blank">DIYgod</a></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2018 <a href="/." rel="nofollow">Evolving.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a id="rocket" href="#top" class="show"></a><script type="text/javascript" src="/js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.js" async></script><script type="text/javascript" src="/js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//cdn.bootcss.com/fancybox/3.1.20/jquery.fancybox.min.css"><script type="text/javascript" color="100,99,98" opacity="0.7" zIndex="-1" count="150" src="//cdn.bootcss.com/canvas-nest.js/1.0.1/canvas-nest.min.js"></script><script type="text/javascript" src="/js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="/js/smartresize.js?v=0.0.0"></script></div></body></html>